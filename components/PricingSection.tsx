// function PricingSection() {
//   return (
//     <div className="section special-top-space">
//       <div className="base-container">
//         <div className="two-column-grid">
//           <div
//             id="w-node-_51c5e149-ca92-a1e3-e9df-ab0532bedce4-ab3f40e0"
//             className="grid-column-left"
//           >
//             <div className="pricing-left-grid">
//               <div className="hero-price-item">
//                 <div className="price-top">
//                   <div className="starter-package">
//                     <div className="package-flex-item">
//                       <h6 className="price-plan">Premium</h6>
//                       <div className="small-square"></div>
//                     </div>
//                     <h6 className="price-plan">Care Package</h6>
//                   </div>
//                 </div>
//                 <div className="button-pricing-wrap">
//                   <div className="flex-pricing-info">
//                     <h6 className="price-plan">Price:</h6>
//                     <h3 className="price-title">$199</h3>
//                   </div>
//                   <div className="line-top"></div>
//                   <div className="bottom-line"></div>
//                 </div>
//                 <div className="price-bottom">
//                   <div className="features-pricing-list">
//                     <div className="pricing-row-item">
//                       <div className="pricing-icon-wrapper">
//                         <img
//                           src="https://cdn.prod.website-files.com/669e1212d181ce4bfbbea175/66a23ba3250000d9571d2613_rating_6543894%201.svg"
//                           loading="lazy"
//                           alt="Project photo"
//                           className="price-icon"
//                         />
//                         <div className="price-circle-cover"></div>
//                       </div>
//                       <div className="price-list-wrapper">
//                         <p className="pricing-list-description">
//                           <span className="price-span">
//                             <strong>Engine Diagnostic: </strong>
//                           </span>
//                           Advanced diagnostics to identify and address potential
//                           issues.
//                         </p>
//                       </div>
//                     </div>
//                     <div className="pricing-row-item">
//                       <div className="pricing-icon-wrapper">
//                         <img
//                           src="https://cdn.prod.website-files.com/669e1212d181ce4bfbbea175/66a23ba3250000d9571d2613_rating_6543894%201.svg"
//                           loading="lazy"
//                           alt="Project photo"
//                           className="price-icon"
//                         />
//                         <div className="price-circle-cover"></div>
//                       </div>
//                       <div className="price-list-wrapper">
//                         <p className="pricing-list-description">
//                           <span className="price-span">
//                             <strong>Alignment Check: </strong>
//                           </span>
//                           Ensure wheels are properly aligned for optimal
//                           handling.
//                         </p>
//                       </div>
//                     </div>
//                     <div className="pricing-row-item">
//                       <div className="pricing-icon-wrapper">
//                         <img
//                           src="https://cdn.prod.website-files.com/669e1212d181ce4bfbbea175/66a23ba3250000d9571d2613_rating_6543894%201.svg"
//                           loading="lazy"
//                           alt="Project photo"
//                           className="price-icon"
//                         />
//                         <div className="price-circle-cover"></div>
//                       </div>
//                       <div className="price-list-wrapper">
//                         <p className="pricing-list-description">
//                           <span className="price-span">
//                             <strong>Air Filter Replacement: </strong>
//                           </span>
//                           Replace engine air filter for improved performance.
//                         </p>
//                       </div>
//                     </div>
//                     <div className="pricing-row-item">
//                       <div className="pricing-icon-wrapper">
//                         <img
//                           src="https://cdn.prod.website-files.com/669e1212d181ce4bfbbea175/66a23ba3250000d9571d2613_rating_6543894%201.svg"
//                           loading="lazy"
//                           alt="Project photo"
//                           className="price-icon"
//                         />
//                         <div className="price-circle-cover"></div>
//                       </div>
//                       <div className="price-list-wrapper">
//                         <p className="pricing-list-description">
//                           <span className="price-span">
//                             <strong>AC System Check: </strong>
//                           </span>
//                           Inspect and test the air conditioning system for
//                           optimal cooling.
//                         </p>
//                       </div>
//                     </div>
//                     <div className="pricing-row-item">
//                       <div className="pricing-icon-wrapper">
//                         <img
//                           src="https://cdn.prod.website-files.com/669e1212d181ce4bfbbea175/66a23ba3250000d9571d2613_rating_6543894%201.svg"
//                           loading="lazy"
//                           alt="Project photo"
//                           className="price-icon"
//                         />
//                         <div className="price-circle-cover"></div>
//                       </div>
//                       <div className="price-list-wrapper">
//                         <p className="pricing-list-description">
//                           <span className="price-span">
//                             <strong>Interior Vacuum: </strong>
//                           </span>
//                           Thorough vacuuming of the interior to keep your car
//                           clean and fresh.
//                         </p>
//                       </div>
//                     </div>
//                   </div>
//                   <div className="price-btn-wrap">
//                     <a
//                       href="/contact-us"
//                       className="primary-button large-btn-height w-button"
//                     >
//                       Purchase a package now
//                     </a>
//                   </div>
//                 </div>
//               </div>
//               <div className="hero-price-item">
//                 <div className="price-top">
//                   <div className="starter-package">
//                     <div className="package-flex-item">
//                       <h6 className="price-plan">Basic</h6>
//                       <div className="small-square"></div>
//                     </div>
//                     <h6 className="price-plan">Care Package</h6>
//                   </div>
//                 </div>
//                 <div className="button-pricing-wrap">
//                   <div className="flex-pricing-info">
//                     <h6 className="price-plan">Price:</h6>
//                     <h3 className="price-title">$99</h3>
//                   </div>
//                   <div className="line-top"></div>
//                   <div className="bottom-line"></div>
//                 </div>
//                 <div className="price-bottom">
//                   <div className="features-pricing-list">
//                     <div className="pricing-row-item">
//                       <div className="pricing-icon-wrapper">
//                         <img
//                           src="https://cdn.prod.website-files.com/669e1212d181ce4bfbbea175/66a23f91e58bb244cd97e521_verify_6671484%201.svg"
//                           loading="lazy"
//                           alt="Project photo"
//                           className="price-icon"
//                         />
//                         <div className="price-circle-cover"></div>
//                       </div>
//                       <div className="price-list-wrapper">
//                         <p className="pricing-list-description">
//                           <span className="price-span">
//                             <strong>Oil Change:</strong>
//                           </span>
//                           Replace old oil with high-quality synthetic oil to
//                           ensure your engine runs smoothly.
//                         </p>
//                       </div>
//                     </div>
//                     <div className="pricing-row-item">
//                       <div className="pricing-icon-wrapper">
//                         <img
//                           src="https://cdn.prod.website-files.com/669e1212d181ce4bfbbea175/66a23f91e58bb244cd97e521_verify_6671484%201.svg"
//                           loading="lazy"
//                           alt="Project photo"
//                           className="price-icon"
//                         />
//                         <div className="price-circle-cover"></div>
//                       </div>
//                       <div className="price-list-wrapper">
//                         <p className="pricing-list-description">
//                           <span className="price-span">
//                             <strong>Tire Rotation:</strong>
//                           </span>
//                           Rotate tires to promote even wear and extend tire
//                           life.
//                         </p>
//                       </div>
//                     </div>
//                     <div className="pricing-row-item">
//                       <div className="pricing-icon-wrapper">
//                         <img
//                           src="https://cdn.prod.website-files.com/669e1212d181ce4bfbbea175/66a23f91e58bb244cd97e521_verify_6671484%201.svg"
//                           loading="lazy"
//                           alt="Project photo"
//                           className="price-icon"
//                         />
//                         <div className="price-circle-cover"></div>
//                       </div>
//                       <div className="price-list-wrapper">
//                         <p className="pricing-list-description">
//                           <span className="price-span">
//                             <strong>Brake Inspection:</strong>
//                           </span>
//                           Comprehensive check of brake pads, rotors, and fluid
//                           to ensure safety.
//                         </p>
//                       </div>
//                     </div>
//                     <div className="pricing-row-item">
//                       <div className="pricing-icon-wrapper">
//                         <img
//                           src="https://cdn.prod.website-files.com/669e1212d181ce4bfbbea175/66a23f91e58bb244cd97e521_verify_6671484%201.svg"
//                           loading="lazy"
//                           alt="Project photo"
//                           className="price-icon"
//                         />
//                         <div className="price-circle-cover"></div>
//                       </div>
//                       <div className="price-list-wrapper">
//                         <p className="pricing-list-description">
//                           <span className="price-span">
//                             <strong>Fluid Top-Off: </strong>
//                           </span>
//                           Refill essential fluids, including windshield washer,
//                           brake, and coolant.
//                         </p>
//                       </div>
//                     </div>
//                   </div>
//                   <div className="price-btn-wrap">
//                     <a
//                       href="/contact-us"
//                       className="primary-button large-btn-height w-button"
//                     >
//                       Purchase a package now
//                     </a>
//                   </div>
//                 </div>
//               </div>
//             </div>
//           </div>
//           <div
//             id="w-node-_51c5e149-ca92-a1e3-e9df-ab0532bedceb-ab3f40e0"
//             className="grid-column-right"
//           >
//             <div className="title-wrap">
//               <div
//                 data-w-id="51c5e149-ca92-a1e3-e9df-ab0532bedce6"
//                 style={{ opacity: 0 }}
//                 className="subtitle-wrap"
//               >
//                 <h6 className="black-subtitle">
//                   Discover Our Complete Car Care
//                 </h6>
//               </div>
//               <h2 className="main-title-h2">Essential Service Package</h2>
//               <div
//                 data-w-id="5b858a56-c4b1-8323-0e7a-21156f317940"
//                 style={{ opacity: 0 }}
//                 className="quick-links-container"
//               >
//                 <div className="info-link-wrapper">
//                   <a
//                     href="tel:+1-800-123-4567"
//                     className="quick-intro-link w-inline-block"
//                   >
//                     <div className="quick-links-item">
//                       <div className="quick-links-icon">
//                         <img
//                           loading="lazy"
//                           src="https://cdn.prod.website-files.com/669e1212d181ce4bfbbea175/66a2390f09a1883d22986905_ride-hailing_16760271%201.svg"
//                           alt="Project photo"
//                           className="banner-icon"
//                         />
//                       </div>
//                       <div className="space-text-wrap">
//                         <div className="hover-clip-con">
//                           <div className="clip-title">
//                             <h6 className="quick-links-text">
//                               +1-800-123-4567
//                             </h6>
//                           </div>
//                           <div className="clip-title bottom">
//                             <h6 className="quick-links-text">
//                               +1-800-123-4567
//                             </h6>
//                           </div>
//                         </div>
//                       </div>
//                     </div>
//                     <div className="link-line-cover"></div>
//                   </a>
//                 </div>
//                 <div className="info-link-wrapper">
//                   <a
//                     href="mailto:carsy@gmail.com"
//                     className="quick-intro-link w-inline-block"
//                   >
//                     <div className="quick-links-item">
//                       <div className="quick-links-icon">
//                         <img
//                           loading="lazy"
//                           src="https://cdn.prod.website-files.com/669e1212d181ce4bfbbea175/66a2390e6aa74ba021b6884f_email_11344546%201.svg"
//                           alt="Project photo"
//                           className="banner-icon"
//                         />
//                       </div>
//                       <div className="space-text-wrap">
//                         <div className="hover-clip-con">
//                           <div className="clip-title">
//                             <h6 className="quick-links-text">
//                               carsy@gmail.com
//                             </h6>
//                           </div>
//                           <div className="clip-title bottom">
//                             <h6 className="quick-links-text">
//                               carsy@gmail.com
//                             </h6>
//                           </div>
//                         </div>
//                       </div>
//                     </div>
//                     <div className="link-line-cover"></div>
//                   </a>
//                 </div>
//                 <div className="info-link-wrapper">
//                   <a
//                     href="https://web.telegram.org/a/"
//                     target="_blank"
//                     rel="noreferrer"
//                     className="quick-intro-link w-inline-block"
//                   >
//                     <div className="quick-links-item">
//                       <div className="quick-links-icon">
//                         <img
//                           loading="lazy"
//                           src="https://cdn.prod.website-files.com/669e1212d181ce4bfbbea175/66a239b6d347142d5307fd9b_2.svg"
//                           alt="Project photo"
//                           className="banner-icon"
//                         />
//                       </div>
//                       <div className="space-text-wrap">
//                         <div className="hover-clip-con">
//                           <div className="clip-title">
//                             <h6 className="quick-links-text">Telegram Chat</h6>
//                           </div>
//                           <div className="clip-title bottom">
//                             <h6 className="quick-links-text">Telegram Chat</h6>
//                           </div>
//                         </div>
//                       </div>
//                     </div>
//                     <div className="link-line-cover"></div>
//                   </a>
//                 </div>
//                 <div className="info-link-wrapper">
//                   <a
//                     href="https://www.google.com/maps/d/u/0/viewer?ie=UTF8&amp;hl=en&amp;msa=0&amp;z=18&amp;mid=14jEeIQ7yyKK7iih9Sl_AjR7jZf0&amp;ll=51.54480440635318%2C-0.07627265702787378"
//                     target="_blank"
//                     rel="noreferrer"
//                     className="quick-intro-link w-inline-block"
//                   >
//                     <div className="quick-links-item">
//                       <div className="quick-links-icon">
//                         <img
//                           loading="lazy"
//                           src="https://cdn.prod.website-files.com/669e1212d181ce4bfbbea175/66a23910e9bce36ced9cc75e_location_4879312%201.svg"
//                           alt="Project photo"
//                           className="banner-icon"
//                         />
//                       </div>
//                       <div className="space-text-wrap">
//                         <div className="hover-clip-con">
//                           <div className="clip-title">
//                             <h6 className="quick-links-text">Our location</h6>
//                           </div>
//                           <div className="clip-title bottom">
//                             <h6 className="quick-links-text">Our location</h6>
//                           </div>
//                         </div>
//                       </div>
//                     </div>
//                     <div className="link-line-cover"></div>
//                   </a>
//                 </div>
//               </div>
//             </div>
//           </div>
//         </div>
//       </div>
//       <div className="gradient-wrapper grad-wrapper-3">
//         <div
//           data-w-id="44308ddf-fea7-6c8a-6fb1-dd10cc698717"
//           style={{ opacity: 0 }}
//           className="red-grad-9"
//         ></div>
//         <div
//           data-w-id="44308ddf-fea7-6c8a-6fb1-dd10cc69871a"
//           style={{ opacity: 0 }}
//           className="red-grad-7"
//         ></div>
//       </div>
//     </div>
//   );
// }

// export default PricingSection;





// components/PricingSection.tsx or wherever used

import { fetchPricingSectionComponentData, getImageUrl } from "@/lib/fetchPricingSectionComponentData";

type PricingData = Awaited<ReturnType<typeof fetchPricingSectionComponentData>>;

export default async function PricingSection() {
  const data: PricingData = await fetchPricingSectionComponentData();

  if (!data) {
    return <div></div>;
  }

  const {
    mainSection = {},
    containerSettings = {},
    premiumPackage = {},
    basicPackage = {},
    additionalPackages = [],
    infoSection = {},
    quickLinks = [],
    gradientSettings = {},
    layoutSettings = {},
  } = data;

  // Combine all packages and sort by order
  const allPackages = [
    ...(premiumPackage.show ? [{ ...premiumPackage, type: 'premium' }] : []),
    ...(basicPackage.show ? [{ ...basicPackage, type: 'basic' }] : []),
    ...additionalPackages.filter((pkg: any) => pkg.show).map((pkg: any) => ({ ...pkg, type: 'additional' })),
  ].sort((a: any, b: any) => (a.order || 999) - (b.order || 999));

  return (
    <div className={mainSection.className || "section special-top-space"}>
      {/* Container */}
      <div className={containerSettings.containerClass || "base-container"}>
        <div className={containerSettings.gridClass || "two-column-grid"}>
          {/* Left Column - Pricing Packages */}
          <div
            id={layoutSettings.leftColumnId || "w-node-_51c5e149-ca92-a1e3-e9df-ab0532bedce4-ab3f40e0"}
            className={layoutSettings.leftColumnClass || "grid-column-left"}
          >
            <div className={layoutSettings.pricingGridClass || "pricing-left-grid"}>
              {allPackages.map((pkg: any) => (
                <div key={pkg.packageType || pkg.id} className="hero-price-item">
                  {/* Package Header */}
                  <div className="price-top">
                    <div className="starter-package">
                      <div className="package-flex-item">
                        <h6 className="price-plan">{pkg.packageType}</h6>
                        <div className="small-square"></div>
                      </div>
                      <h6 className="price-plan">{pkg.packageTitle}</h6>
                    </div>
                  </div>

                  {/* Price */}
                  <div className="button-pricing-wrap">
                    <div className="flex-pricing-info">
                      <h6 className="price-plan">{pkg.priceLabel || "Price:"}</h6>
                      <h3 className="price-title">{pkg.price}</h3>
                    </div>
                    <div className="line-top"></div>
                    <div className="bottom-line"></div>
                  </div>

                  {/* Features */}
                  <div className="price-bottom">
                    <div className="features-pricing-list">
                      {pkg.features?.map((feature: any, i: number) => (
                        <div key={i} className="pricing-row-item">
                          <div className="pricing-icon-wrapper">
                            <img
                              src={getImageUrl(feature.icon) || feature.iconUrl || ""}
                              loading="lazy"
                              alt={feature.iconAlt || "Feature icon"}
                              className="price-icon"
                            />
                            <div className="price-circle-cover"></div>
                          </div>
                          <div className="price-list-wrapper">
                            <p className="pricing-list-description">
                              <span className="price-span">
                                <strong>{feature.featureTitle}</strong>
                              </span>
                              {feature.featureDescription}
                            </p>
                          </div>
                        </div>
                      ))}
                    </div>

                    {/* CTA Button */}
                    {pkg.ctaButton?.show && (
                      <div className="price-btn-wrap">
                        <a
                          href={pkg.ctaButton.url}
                          target={pkg.ctaButton.openInNewTab ? "_blank" : undefined}
                          rel={pkg.ctaButton.openInNewTab ? "noopener noreferrer" : undefined}
                          className={pkg.ctaButton.buttonClass || "primary-button large-btn-height w-button"}
                        >
                          {pkg.ctaButton.text}
                        </a>
                      </div>
                    )}
                  </div>
                </div>
              ))}
            </div>
          </div>

          {/* Right Column - Info + Quick Links */}
          {infoSection.show && (
            <div
              id={infoSection.columnId || "w-node-_51c5e149-ca92-a1e3-e9df-ab0532bedceb-ab3f40e0"}
              className={infoSection.columnClass || "grid-column-right"}
            >
              <div className="title-wrap">
                {/* Subtitle */}
                {infoSection.subtitle?.show && (
                  <div
                    data-w-id="51c5e149-ca92-a1e3-e9df-ab0532bedce6"
                    style={{ opacity: 0 }}
                    className="subtitle-wrap"
                  >
                    <h6 className={infoSection.subtitle.className || "black-subtitle"}>
                      {infoSection.subtitle.text}
                    </h6>
                  </div>
                )}

                {/* Main Title */}
                <h2 className={infoSection.mainTitleClass || "main-title-h2"}>
                  {infoSection.mainTitle}
                </h2>

                {/* Quick Links */}
                {quickLinks.length > 0 && (
                  <div
                    data-w-id="5b858a56-c4b1-8323-0e7a-21156f317940"
                    style={{ opacity: 0 }}
                    className="quick-links-container"
                  >
                    {quickLinks.filter((link: any) => link.show).map((link: any, i: number) => (
                      <div key={i} className="info-link-wrapper">
                        <a
                          href={link.url}
                          target={link.openInNewTab ? "_blank" : undefined}
                          rel={link.openInNewTab ? "noopener noreferrer" : undefined}
                          className="quick-intro-link w-inline-block"
                        >
                          <div className="quick-links-item">
                            <div className="quick-links-icon">
                              <img
                                loading="lazy"
                                src={getImageUrl(link.icon) || link.iconUrl || ""}
                                alt={link.iconAlt || "Icon"}
                                className="banner-icon"
                              />
                            </div>
                            <div className="space-text-wrap">
                              <div className="hover-clip-con">
                                <div className="clip-title">
                                  <h6 className="quick-links-text">{link.text}</h6>
                                </div>
                                <div className="clip-title bottom">
                                  <h6 className="quick-links-text">{link.text}</h6>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div className="link-line-cover"></div>
                        </a>
                      </div>
                    ))}
                  </div>
                )}
              </div>
            </div>
          )}
        </div>
      </div>

      {/* Gradient Elements */}
      {gradientSettings.showGradients && (
        <div className={gradientSettings.gradientWrapperClass || "gradient-wrapper grad-wrapper-3"}>
          <div
            data-w-id="44308ddf-fea7-6c8a-6fb1-dd10cc698717"
            style={{ opacity: 0 }}
            className={gradientSettings.gradient1Class || "red-grad-9"}
          ></div>
          <div
            data-w-id="44308ddf-fea7-6c8a-6fb1-dd10cc69871a"
            style={{ opacity: 0 }}
            className={gradientSettings.gradient2Class || "red-grad-7"}
          ></div>
        </div>
      )}
    </div>
  );
}